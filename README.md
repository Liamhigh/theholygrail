# Verum Omnis - Forensic Engine

Verum Omnis is a powerful, stateless, and secure forensic analysis engine. It leverages the Google Gemini API to perform deep analysis on legal documents, images, and other evidence, producing comprehensive, court-ready forensic reports.

Built as a Progressive Web App (PWA), it runs entirely on-device, ensuring user data is never uploaded or stored on external servers. It is designed for cross-platform use, functioning seamlessly in modern web browsers and as a native Android application via Capacitor.

## Key Features

-   **On-Device AI Processing:** All analysis is performed securely in the browser, guaranteeing privacy and confidentiality.
-   **Multi-modal Evidence Analysis:** Supports a wide range of file types including text, `.txt`, `.pdf`, and common image formats (`.png`, `.jpg`, etc.).
-   **Dynamic Model Selection:** Automatically utilizes `gemini-2.5-flash` for general cases and `gemini-2.5-pro` with an enhanced thinking budget for more complex evidence like PDFs.
-   **Structured Forensic Reports:** Generates highly-structured reports in Markdown, detailing executive summaries, timelines, liability assessments, strategic recommendations, and more.
-   **Cryptographically Sealed PDFs:** Allows users to download reports as PDFs secured with a SHA-256 cryptographic seal, verifying the document's integrity.
-   **Offline-First & Installable:** Fully functional without an internet connection for case preparation. It can be installed on any device as a PWA.
-   **Production Ready:** Configured for robust deployment on Firebase Hosting and for building into a native Android application with Capacitor.

## Tech Stack

-   **Frontend:** React, TypeScript, Vite
-   **AI:** Google Gemini API (`@google/genai`)
-   **PDF Generation:** jsPDF
-   **Native Runtime:** Capacitor
-   **Hosting:** Firebase Hosting
-   **CI/CD:** GitHub Actions

## Project Structure

```
/
├── .github/workflows/         # GitHub Actions for CI/CD
├── dist/                      # Production build output (generated)
├── src/
│   └── index.tsx              # Main React application component
├── android/                   # Native Android project (generated by Capacitor)
├── videos/                    # Video files (tracked with Git LFS)
├── capacitor.config.json      # Capacitor configuration
├── firebase.json              # Firebase Hosting configuration
├── index.html                 # Main HTML entry point
├── package.json
├── TERMUX_GUIDE.md           # Guide for uploading files from Termux CLI
└── README.md                  # This file
```

## Getting Started

### Prerequisites

-   Node.js (v18 or later)
-   npm (v8 or later)

### Local Development

1.  **Clone the Repository:**
    ```bash
    git clone https://github.com/your-repo/verum-omnis-engine.git
    cd verum-omnis-engine
    ```

2.  **Install Dependencies:**
    ```bash
    npm install
    ```

3.  **API Key Configuration:**
    The application is designed to use an API key provided by its execution environment. In development environments like AI Studio, `process.env.API_KEY` is automatically injected.

4.  **Run the Development Server:**
    ```bash
    npm run dev
    ```
    The application will be available at `http://localhost:5173`.

## Build and Deployment

For complete deployment instructions, including Firebase Hosting setup, Android APK building, and CI/CD configuration, see **[DEPLOYMENT.md](DEPLOYMENT.md)**.

### Quick Start - Production Web Build

To create an optimized production build of the web app:

```bash
npm run build
```

The output files will be generated in the `dist/` directory.

### Firebase Hosting

This project is configured for continuous deployment to Firebase Hosting. Every push to the `main` branch triggers the GitHub Actions workflow that automatically builds and deploys the application.

Required secrets (configured in GitHub repository settings):
-   `VITE_API_KEY`: Your Google Gemini API key.
-   `FIREBASE_SERVICE_ACCOUNT_VERUM_OMNIS_V2`: The JSON content of your Firebase service account key.

### Android APK Build

To build the Android APK:

```bash
npm run build           # Build web assets
npx cap sync android    # Sync to Android project
cd android && ./gradlew assembleRelease
```

See [DEPLOYMENT.md](DEPLOYMENT.md) for detailed instructions.

## Mobile Development (Capacitor)

To build and run the application as a native Android app:

1.  **Build the Web Assets:**
    Ensure you have a fresh production build.
    ```bash
    npm run build
    ```

2.  **Initialize the Android Platform:**
    This only needs to be done once to add the native Android project.
    ```bash
    npx cap add android
    ```

3.  **Sync Web Assets with Android Project:**
    This command copies your web build from `dist/` into the native Android project. Run this command every time you update your web code.
    ```bash
    npx cap sync
    ```

4.  **Open in Android Studio:**
    ```bash
    npx cap open android
    ```
    From Android Studio, you can run the app on an emulator or a connected physical device.

## Adding Large Files (Videos, etc.)

This repository uses Git LFS (Large File Storage) to handle large binary files like videos efficiently.

### Quick Start

1. Video files are automatically tracked by Git LFS when placed in the `videos/` directory
2. Supported formats: MP4, MOV, AVI, MKV, WebM, and more

### Uploading from Termux (Android)

If you're using Termux to upload files from your Android device, see the comprehensive [TERMUX_GUIDE.md](TERMUX_GUIDE.md) for step-by-step CLI instructions.

### Command Line Upload

```bash
# Copy your video to the videos directory
cp /path/to/your/video.mp4 videos/

# Add and commit
git add videos/
git commit -m "Add video file"

# Push to GitHub
git push
```

Git LFS will automatically handle large file uploads.

## Contributing

Contributions are welcome. Please open an issue to discuss any changes or submit a pull request with a clear description of your improvements.

## License

This project is licensed under the MIT License.
